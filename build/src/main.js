(()=>{var t={484:function(t){t.exports=function(){"use strict";var t=6e4,e=36e5,n="millisecond",s="second",r="minute",i="hour",a="day",o="week",d="month",c="quarter",u="year",l="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},v=function(t,e,n){var s=String(t);return!s||s.length>=e?t:""+Array(e+1-s.length).join(n)+t},$={s:v,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),s=Math.floor(n/60),r=n%60;return(e<=0?"+":"-")+v(s,2,"0")+":"+v(r,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var s=12*(n.year()-e.year())+(n.month()-e.month()),r=e.clone().add(s,d),i=n-r<0,a=e.clone().add(s+(i?-1:1),d);return+(-(s+(n-r)/(i?r-a:a-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:d,y:u,w:o,d:a,D:l,h:i,m:r,s,ms:n,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",y={};y[g]=p;var M=function(t){return t instanceof b},D=function t(e,n,s){var r;if(!e)return g;if("string"==typeof e){var i=e.toLowerCase();y[i]&&(r=i),n&&(y[i]=n,r=i);var a=e.split("-");if(!r&&a.length>1)return t(a[0])}else{var o=e.name;y[o]=e,r=o}return!s&&r&&(g=r),r||!s&&g},S=function(t,e){if(M(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new b(n)},T=$;T.l=D,T.i=M,T.w=function(t,e){return S(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var b=function(){function p(t){this.$L=D(t.locale,null,!0),this.parse(t)}var v=p.prototype;return v.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(T.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var s=e.match(f);if(s){var r=s[2]-1||0,i=(s[7]||"0").substring(0,3);return n?new Date(Date.UTC(s[1],r,s[3]||1,s[4]||0,s[5]||0,s[6]||0,i)):new Date(s[1],r,s[3]||1,s[4]||0,s[5]||0,s[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},v.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},v.$utils=function(){return T},v.isValid=function(){return!(this.$d.toString()===h)},v.isSame=function(t,e){var n=S(t);return this.startOf(e)<=n&&n<=this.endOf(e)},v.isAfter=function(t,e){return S(t)<this.startOf(e)},v.isBefore=function(t,e){return this.endOf(e)<S(t)},v.$g=function(t,e,n){return T.u(t)?this[e]:this.set(n,t)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(t,e){var n=this,c=!!T.u(e)||e,h=T.p(t),f=function(t,e){var s=T.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return c?s:s.endOf(a)},m=function(t,e){return T.w(n.toDate()[t].apply(n.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},p=this.$W,v=this.$M,$=this.$D,g="set"+(this.$u?"UTC":"");switch(h){case u:return c?f(1,0):f(31,11);case d:return c?f(1,v):f(0,v+1);case o:var y=this.$locale().weekStart||0,M=(p<y?p+7:p)-y;return f(c?$-M:$+(6-M),v);case a:case l:return m(g+"Hours",0);case i:return m(g+"Minutes",1);case r:return m(g+"Seconds",2);case s:return m(g+"Milliseconds",3);default:return this.clone()}},v.endOf=function(t){return this.startOf(t,!1)},v.$set=function(t,e){var o,c=T.p(t),h="set"+(this.$u?"UTC":""),f=(o={},o[a]=h+"Date",o[l]=h+"Date",o[d]=h+"Month",o[u]=h+"FullYear",o[i]=h+"Hours",o[r]=h+"Minutes",o[s]=h+"Seconds",o[n]=h+"Milliseconds",o)[c],m=c===a?this.$D+(e-this.$W):e;if(c===d||c===u){var p=this.clone().set(l,1);p.$d[f](m),p.init(),this.$d=p.set(l,Math.min(this.$D,p.daysInMonth())).$d}else f&&this.$d[f](m);return this.init(),this},v.set=function(t,e){return this.clone().$set(t,e)},v.get=function(t){return this[T.p(t)]()},v.add=function(n,c){var l,h=this;n=Number(n);var f=T.p(c),m=function(t){var e=S(h);return T.w(e.date(e.date()+Math.round(t*n)),h)};if(f===d)return this.set(d,this.$M+n);if(f===u)return this.set(u,this.$y+n);if(f===a)return m(1);if(f===o)return m(7);var p=(l={},l[r]=t,l[i]=e,l[s]=1e3,l)[f]||1,v=this.$d.getTime()+n*p;return T.w(v,this)},v.subtract=function(t,e){return this.add(-1*t,e)},v.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var s=t||"YYYY-MM-DDTHH:mm:ssZ",r=T.z(this),i=this.$H,a=this.$m,o=this.$M,d=n.weekdays,c=n.months,u=n.meridiem,l=function(t,n,r,i){return t&&(t[n]||t(e,s))||r[n].slice(0,i)},f=function(t){return T.s(i%12||12,t,"0")},p=u||function(t,e,n){var s=t<12?"AM":"PM";return n?s.toLowerCase():s};return s.replace(m,(function(t,s){return s||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return T.s(e.$y,4,"0");case"M":return o+1;case"MM":return T.s(o+1,2,"0");case"MMM":return l(n.monthsShort,o,c,3);case"MMMM":return l(c,o);case"D":return e.$D;case"DD":return T.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return l(n.weekdaysMin,e.$W,d,2);case"ddd":return l(n.weekdaysShort,e.$W,d,3);case"dddd":return d[e.$W];case"H":return String(i);case"HH":return T.s(i,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return p(i,a,!0);case"A":return p(i,a,!1);case"m":return String(a);case"mm":return T.s(a,2,"0");case"s":return String(e.$s);case"ss":return T.s(e.$s,2,"0");case"SSS":return T.s(e.$ms,3,"0");case"Z":return r}return null}(t)||r.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(n,l,h){var f,m=this,p=T.p(l),v=S(n),$=(v.utcOffset()-this.utcOffset())*t,g=this-v,y=function(){return T.m(m,v)};switch(p){case u:f=y()/12;break;case d:f=y();break;case c:f=y()/3;break;case o:f=(g-$)/6048e5;break;case a:f=(g-$)/864e5;break;case i:f=g/e;break;case r:f=g/t;break;case s:f=g/1e3;break;default:f=g}return h?f:T.a(f)},v.daysInMonth=function(){return this.endOf(d).$D},v.$locale=function(){return y[this.$L]},v.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),s=D(t,e,!0);return s&&(n.$L=s),n},v.clone=function(){return T.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},p}(),w=b.prototype;return S.prototype=w,[["$ms",n],["$s",s],["$m",r],["$H",i],["$W",a],["$M",d],["$y",u],["$D",l]].forEach((function(t){w[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),S.extend=function(t,e){return t.$i||(t(e,b,S),t.$i=!0),S},S.locale=D,S.isDayjs=M,S.unix=function(t){return S(1e3*t)},S.en=y[g],S.Ls=y,S.p={},S}()},285:function(t){t.exports=function(){"use strict";var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,s=/\d\d?/,r=/\d*[^-_:/,()\s\d]+/,i={},a=function(t){return(t=+t)+(t>68?1900:2e3)},o=function(t){return function(e){this[t]=+e}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(t){(this.zone||(this.zone={})).offset=function(t){if(!t)return 0;if("Z"===t)return 0;var e=t.match(/([+-]|\d\d)/g),n=60*e[1]+(+e[2]||0);return 0===n?0:"+"===e[0]?-n:n}(t)}],c=function(t){var e=i[t];return e&&(e.indexOf?e:e.s.concat(e.f))},u=function(t,e){var n,s=i.meridiem;if(s){for(var r=1;r<=24;r+=1)if(t.indexOf(s(r,0,e))>-1){n=r>12;break}}else n=t===(e?"pm":"PM");return n},l={A:[r,function(t){this.afternoon=u(t,!1)}],a:[r,function(t){this.afternoon=u(t,!0)}],S:[/\d/,function(t){this.milliseconds=100*+t}],SS:[n,function(t){this.milliseconds=10*+t}],SSS:[/\d{3}/,function(t){this.milliseconds=+t}],s:[s,o("seconds")],ss:[s,o("seconds")],m:[s,o("minutes")],mm:[s,o("minutes")],H:[s,o("hours")],h:[s,o("hours")],HH:[s,o("hours")],hh:[s,o("hours")],D:[s,o("day")],DD:[n,o("day")],Do:[r,function(t){var e=i.ordinal,n=t.match(/\d+/);if(this.day=n[0],e)for(var s=1;s<=31;s+=1)e(s).replace(/\[|\]/g,"")===t&&(this.day=s)}],M:[s,o("month")],MM:[n,o("month")],MMM:[r,function(t){var e=c("months"),n=(c("monthsShort")||e.map((function(t){return t.slice(0,3)}))).indexOf(t)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[r,function(t){var e=c("months").indexOf(t)+1;if(e<1)throw new Error;this.month=e%12||e}],Y:[/[+-]?\d+/,o("year")],YY:[n,function(t){this.year=a(t)}],YYYY:[/\d{4}/,o("year")],Z:d,ZZ:d};function h(n){var s,r;s=n,r=i&&i.formats;for(var a=(n=s.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(e,n,s){var i=s&&s.toUpperCase();return n||r[s]||t[s]||r[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}))).match(e),o=a.length,d=0;d<o;d+=1){var c=a[d],u=l[c],h=u&&u[0],f=u&&u[1];a[d]=f?{regex:h,parser:f}:c.replace(/^\[|\]$/g,"")}return function(t){for(var e={},n=0,s=0;n<o;n+=1){var r=a[n];if("string"==typeof r)s+=r.length;else{var i=r.regex,d=r.parser,c=t.slice(s),u=i.exec(c)[0];d.call(e,u),t=t.replace(u,"")}}return function(t){var e=t.afternoon;if(void 0!==e){var n=t.hours;e?n<12&&(t.hours+=12):12===n&&(t.hours=0),delete t.afternoon}}(e),e}}return function(t,e,n){n.p.customParseFormat=!0,t&&t.parseTwoDigitYear&&(a=t.parseTwoDigitYear);var s=e.prototype,r=s.parse;s.parse=function(t){var e=t.date,s=t.utc,a=t.args;this.$u=s;var o=a[1];if("string"==typeof o){var d=!0===a[2],c=!0===a[3],u=d||c,l=a[2];c&&(l=a[2]),i=this.$locale(),!d&&l&&(i=n.Ls[l]),this.$d=function(t,e,n){try{if(["x","X"].indexOf(e)>-1)return new Date(("X"===e?1e3:1)*t);var s=h(e)(t),r=s.year,i=s.month,a=s.day,o=s.hours,d=s.minutes,c=s.seconds,u=s.milliseconds,l=s.zone,f=new Date,m=a||(r||i?1:f.getDate()),p=r||f.getFullYear(),v=0;r&&!i||(v=i>0?i-1:f.getMonth());var $=o||0,g=d||0,y=c||0,M=u||0;return l?new Date(Date.UTC(p,v,m,$,g,y,M+60*l.offset*1e3)):n?new Date(Date.UTC(p,v,m,$,g,y,M)):new Date(p,v,m,$,g,y,M)}catch(t){return new Date("")}}(e,o,s),this.init(),l&&!0!==l&&(this.$L=this.locale(l).$L),u&&e!=this.format(o)&&(this.$d=new Date("")),i={}}else if(o instanceof Array)for(var f=o.length,m=1;m<=f;m+=1){a[1]=o[m-1];var p=n.apply(this,a);if(p.isValid()){this.$d=p.$d,this.$L=p.$L,this.init();break}m===f&&(this.$d=new Date(""))}else r.call(this,t)}}}()},646:function(t){t.exports=function(){"use strict";var t,e,n=1e3,s=6e4,r=36e5,i=864e5,a=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,o=31536e6,d=2592e6,c=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,u={years:o,months:d,days:i,hours:r,minutes:s,seconds:n,milliseconds:1,weeks:6048e5},l=function(t){return t instanceof g},h=function(t,e,n){return new g(t,n,e.$l)},f=function(t){return e.p(t)+"s"},m=function(t){return t<0},p=function(t){return m(t)?Math.ceil(t):Math.floor(t)},v=function(t){return Math.abs(t)},$=function(t,e){return t?m(t)?{negative:!0,format:""+v(t)+e}:{negative:!1,format:""+t+e}:{negative:!1,format:""}},g=function(){function m(t,e,n){var s=this;if(this.$d={},this.$l=n,void 0===t&&(this.$ms=0,this.parseFromMilliseconds()),e)return h(t*u[f(e)],this);if("number"==typeof t)return this.$ms=t,this.parseFromMilliseconds(),this;if("object"==typeof t)return Object.keys(t).forEach((function(e){s.$d[f(e)]=t[e]})),this.calMilliseconds(),this;if("string"==typeof t){var r=t.match(c);if(r){var i=r.slice(2).map((function(t){return null!=t?Number(t):0}));return this.$d.years=i[0],this.$d.months=i[1],this.$d.weeks=i[2],this.$d.days=i[3],this.$d.hours=i[4],this.$d.minutes=i[5],this.$d.seconds=i[6],this.calMilliseconds(),this}}return this}var v=m.prototype;return v.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce((function(e,n){return e+(t.$d[n]||0)*u[n]}),0)},v.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=p(t/o),t%=o,this.$d.months=p(t/d),t%=d,this.$d.days=p(t/i),t%=i,this.$d.hours=p(t/r),t%=r,this.$d.minutes=p(t/s),t%=s,this.$d.seconds=p(t/n),t%=n,this.$d.milliseconds=t},v.toISOString=function(){var t=$(this.$d.years,"Y"),e=$(this.$d.months,"M"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var s=$(n,"D"),r=$(this.$d.hours,"H"),i=$(this.$d.minutes,"M"),a=this.$d.seconds||0;this.$d.milliseconds&&(a+=this.$d.milliseconds/1e3);var o=$(a,"S"),d=t.negative||e.negative||s.negative||r.negative||i.negative||o.negative,c=r.format||i.format||o.format?"T":"",u=(d?"-":"")+"P"+t.format+e.format+s.format+c+r.format+i.format+o.format;return"P"===u||"-P"===u?"P0D":u},v.toJSON=function(){return this.toISOString()},v.format=function(t){var n=t||"YYYY-MM-DDTHH:mm:ss",s={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return n.replace(a,(function(t,e){return e||String(s[t])}))},v.as=function(t){return this.$ms/u[f(t)]},v.get=function(t){var e=this.$ms,n=f(t);return"milliseconds"===n?e%=1e3:e="weeks"===n?p(e/u[n]):this.$d[n],0===e?0:e},v.add=function(t,e,n){var s;return s=e?t*u[f(e)]:l(t)?t.$ms:h(t,this).$ms,h(this.$ms+s*(n?-1:1),this)},v.subtract=function(t,e){return this.add(t,e,!0)},v.locale=function(t){var e=this.clone();return e.$l=t,e},v.clone=function(){return h(this.$ms,this)},v.humanize=function(e){return t().add(this.$ms,"ms").locale(this.$l).fromNow(!e)},v.valueOf=function(){return this.asMilliseconds()},v.milliseconds=function(){return this.get("milliseconds")},v.asMilliseconds=function(){return this.as("milliseconds")},v.seconds=function(){return this.get("seconds")},v.asSeconds=function(){return this.as("seconds")},v.minutes=function(){return this.get("minutes")},v.asMinutes=function(){return this.as("minutes")},v.hours=function(){return this.get("hours")},v.asHours=function(){return this.as("hours")},v.days=function(){return this.get("days")},v.asDays=function(){return this.as("days")},v.weeks=function(){return this.get("weeks")},v.asWeeks=function(){return this.as("weeks")},v.months=function(){return this.get("months")},v.asMonths=function(){return this.as("months")},v.years=function(){return this.get("years")},v.asYears=function(){return this.as("years")},m}(),y=function(t,e,n){return t.add(e.years()*n,"y").add(e.months()*n,"M").add(e.days()*n,"d").add(e.hours()*n,"h").add(e.minutes()*n,"m").add(e.seconds()*n,"s").add(e.milliseconds()*n,"ms")};return function(n,s,r){t=r,e=r().$utils(),r.duration=function(t,e){var n=r.locale();return h(t,{$l:n},e)},r.isDuration=l;var i=s.prototype.add,a=s.prototype.subtract;s.prototype.add=function(t,e){return l(t)?y(this,t,1):i.bind(this)(t,e)},s.prototype.subtract=function(t,e){return l(t)?y(this,t,-1):a.bind(this)(t,e)}}}()},178:function(t){t.exports=function(){"use strict";var t="minute",e=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(s,r,i){var a=r.prototype;i.utc=function(t){return new r({date:t,utc:!0,args:arguments})},a.utc=function(e){var n=i(this.toDate(),{locale:this.$L,utc:!0});return e?n.add(this.utcOffset(),t):n},a.local=function(){return i(this.toDate(),{locale:this.$L,utc:!1})};var o=a.parse;a.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),o.call(this,t)};var d=a.init;a.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else d.call(this)};var c=a.utcOffset;a.utcOffset=function(s,r){var i=this.$utils().u;if(i(s))return this.$u?0:i(this.$offset)?c.call(this):this.$offset;if("string"==typeof s&&(s=function(t){void 0===t&&(t="");var s=t.match(e);if(!s)return null;var r=(""+s[0]).match(n)||["-",0,0],i=r[0],a=60*+r[1]+ +r[2];return 0===a?0:"+"===i?a:-a}(s),null===s))return this;var a=Math.abs(s)<=16?60*s:s,o=this;if(r)return o.$offset=a,o.$u=0===s,o;if(0!==s){var d=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(o=this.local().add(a+d,t)).$offset=a,o.$x.$localOffset=d}else o=this.utc();return o};var u=a.format;a.format=function(t){var e=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,e)},a.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var l=a.toDate;a.toDate=function(t){return"s"===t&&this.$offset?i(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():l.call(this)};var h=a.diff;a.diff=function(t,e,n){if(t&&this.$u===t.$u)return h.call(this,t,e,n);var s=this.local(),r=i(t).local();return h.call(s,r,e,n)}}}()}},e={};function n(s){var r=e[s];if(void 0!==r)return r.exports;var i=e[s]={exports:{}};return t[s].call(i.exports,i,i.exports,n),i.exports}(()=>{const t=n(484);t.extend(n(646));const e=n(285);t.extend(e);const s=n(178);t.extend(s);const r=window.require("iohook"),i="https://testing.ecotrack.co.in",a=document.getElementById("dropdown"),o=document.getElementById("logout-btn"),d=document.getElementById("punch-in-btn"),c=document.getElementById("pause-btn"),u=document.getElementById("main-screen"),l=document.getElementById("login-screen"),h=document.getElementById("older-data"),f=document.getElementById("successAlert"),m=document.getElementById("errorAlert"),p=document.getElementById("productivityTime"),v=document.getElementById("idleTime"),$=document.getElementById("breakTime"),g=document.getElementById("display-user-name"),y=document.getElementById("fromDate"),M=document.getElementById("toDate");let D=!1,S=!1,T=0,b=0,w=0,L=!1,x=0,Y=0;const I=30;let k={};function O(e){const n=t.duration(e,"seconds");return t.utc(n.asMilliseconds()).format("HH:mm:ss")}function E(t){const e=document.createElement("div");e.classList.add("flex","w-full","h-60","px-5","py-5");const n=document.createElement("details");n.style.cssText="\n    flex: 1;\n    border: 1px solid #e2e8f0;\n    border-radius: 4px;\n    list-style: none !important;\n  ";const s=document.createElement("summary");s.style.cssText="\n    cursor: pointer !important;\n    outline: none !important;\n    background-color: #e2e8f0 !important;\n    padding: 10px !important;\n    border-radius: 5px !important;\n    list-style: none !important;\n  ";const r=document.createElement("div");r.classList.add("flex","flex-row","w-full","justify-between");const i=document.createElement("label");i.style.cssText="\n  font-size: 1.2rem;\n    color: #333;\n    font-weight: bold;\n    list-style: none !important;\n  ";const a=document.createElement("label");i.textContent=t.date_,a.textContent=t.work?`${t?.work?.substr(0,5)} `:"None",a.style.cssText="\n    font-size: 1.2rem;\n    color: #333;\n    font-weight: bold;\n    list-style: none !important;\n  ",r.appendChild(i),r.appendChild(a),s.appendChild(r);const o=document.createElement("div");o.style.flex="1",o.style.display="flex",o.style.flexDirection="column",o.style.justifyContent="space-between",o.style.marginTop="2px",o.style.padding="5px",e.appendChild(o);const d=C(t.work,"Productivity");o.appendChild(d);const c=C(t.idle,"Idle");o.appendChild(c);const u=C(t.break,"Break");o.appendChild(u),document.getElementById("data-container"),n.appendChild(s),n.appendChild(e),h.appendChild(n)}function C(t,e){const n=document.createElement("div");n.classList.add("flex","flex-row","w-full","justify-between","rounded-md"),n.style.marginTop="2px";const s=document.createElement("div"),r=document.createElement("div");s.classList.add("time-ball"),r.classList.add("time-ball");const i=document.createElement("p");"Productivity"===e?n.classList.add("bg-green-200"):"Idle"===e?n.classList.add("bg-red-200"):n.classList.add("bg-yellow-200"),i.textContent=t?`${t.substr(0,5)} `:"None";const a=document.createElement("p");return a.classList.add("text-blue-800","font-bold","pl-2"),a.textContent=e,r.appendChild(a),s.appendChild(i),n.appendChild(r),n.appendChild(s),n}function H(){fetch(`${i}/emp-attendance`,{headers:{"x-access-token":k.token}}).then((t=>t.json())).then((t=>{h.innerHTML="",console.log(t),t.forEach(E)}))}function U(){localStorage.setItem("productivityTime",T),localStorage.setItem("idleTime",b),localStorage.setItem("breakTime",w)}function _(){g.innerText=k.name}function B(){if(L)return w++,void A();const e=t(),n=localStorage.getItem("lastEvent");e.diff(n,"second")<=10?T++:b++,A()}function A(){let t="",e="",n="";t=O(T),e=O(b),n=O(w),p.innerText=t,v.innerText=e,$.innerText=n,U()}function P(){const t=new FormData;t.append("work",O(T)),t.append("idle",O(b)),t.append("break",O(w)),fetch(`${i}/emp-attendance/punch-in`,{method:"PATCH",headers:{"x-access-token":k.token},body:t}).then((t=>t.json())).then((t=>{console.log("values update response :",t)}))}function N(){fetch(`${i}/emp-attendance/curr-state`,{headers:{"x-access-token":k.token}}).then((t=>t.json())).then((t=>{S=t.punch_in,D=t.punch_out,S||D||(d.innerText="PUNCH IN",d.disabled=!1,c.disabled=!0),S&&!D&&(d.innerText="PUNCH OUT",d.disabled=!1,x=setInterval(B,1e3),c.disabled=!1,j()),D&&(d.innerText="PUNCH OUT",d.disabled=!0,c.disabled=!0,m.innerText="Already Punched Out",W(),clearInterval(x),clearInterval(Y))}))}function F(e){return t.duration(t(e,"HH:mm:ss").diff(t().startOf("day"))).asSeconds()}function j(){Y=setInterval(P,1e3*I)}setUser=t=>{k=t,console.log(k)},window.addEventListener("load",(function(){const t=localStorage.getItem("user");if(!t)return u.classList.add("hidden"),void l.classList.remove("hidden");setUser(JSON.parse(t)),k?.token?(u.classList.remove("hidden"),l.classList.add("hidden"),_(),N(),function(){const t=localStorage.getItem("productivityTime"),e=localStorage.getItem("idleTime"),n=localStorage.getItem("breakTime");t&&(T=t),e&&(b=e),n&&(w=n)}(),A(),H()):(u.classList.add("hidden"),l.classList.remove("hidden"))}));function W(){m.classList.remove("hidden"),setTimeout((function(){m.classList.add("hidden")}),3e3)}d.addEventListener("click",(()=>{"PUNCH IN"===d.innerText?fetch(`${i}/emp-attendance/punch-in`,{method:"POST",headers:{"x-access-token":k.token}}).then((t=>t.json())).then((t=>{"Punched In"===t.message?(f.innerText="Punched In",f.classList.remove("hidden"),x=setInterval(B,1e3),c.disabled=!1,d.innerText="PUNCH OUT",j(),setTimeout((()=>{f.classList.add("hidden"),f.innerText="Success"}),3e3)):"Already punched in"===t.error?(f.innerText="Already punched in",f.classList.remove("hidden"),setTimeout((()=>{f.classList.add("hidden"),f.innerText="Success"}),3e3)):(m.classList.remove("hidden"),m.innerText=t.error,setTimeout((()=>{m.classList.add("hidden")}),3e3))})).catch((t=>{"Already punched in"===t.error&&(f.classList.remove("hidden"),setTimeout((()=>{d.innerText="PUNCH OUT",f.classList.add("hidden")}),3e3)),console.log(t)})):fetch(`${i}/emp-attendance/punch-out`,{method:"POST",headers:{"x-access-token":k.token}}).then((t=>t.json())).then((t=>{"Punched Out"===t.message?(f.classList.remove("hidden"),c.disabled=!0,d.innerText="PUNCH OUT",d.disabled=!0,c.disabled=!0,clearInterval(x),clearInterval(Y),setTimeout((()=>{f.classList.add("hidden"),d.innerText="PUNCH IN"}),3e3)):"Already punched out"===t.error?(f.classList.remove("hidden"),c.disabled=!0,setTimeout((()=>{f.classList.add("hidden"),d.innerText="PUNCH IN"}),3e3),clearInterval(x),clearInterval(Y)):(m.classList.remove("hidden"),setTimeout((()=>{m.classList.add("hidden")}),3e3))})).catch((t=>{"Already punched out"===t.error&&(f.classList.remove("hidden"),setTimeout((()=>{f.classList.add("hidden")}),3e3))}))})),r.on("mousemove",(e=>{localStorage.setItem("lastEvent",t().toISOString())})),r.on("mouseclick",(e=>{localStorage.setItem("lastEvent",t().toISOString())})),r.on("keydown",(e=>{localStorage.setItem("lastEvent",t().toISOString())})),r.start(!0),pause=()=>{if("Start Work"===c.innerText)return c.innerText="Take A Break",c.classList.replace("startWorkBtn","btn_md"),void(L=!1);c.innerText="Start Work",c.classList.replace("btn_md","startWorkBtn"),L=!0},c.addEventListener("click",pause),logout=()=>{setUser({}),localStorage.removeItem("productivityTime"),localStorage.removeItem("idleTime"),localStorage.removeItem("breakTime"),clearInterval(x),clearInterval(Y),a.attributes.removeNamedItem("open"),localStorage.clear(),u.classList.add("hidden"),l.classList.remove("hidden")},o.addEventListener("click",logout),document.getElementById("loginForm").addEventListener("submit",(function(t){t.preventDefault();var e=document.getElementById("username").value,n=document.getElementById("password").value;const s=new FormData(t.target);s.append("username",e),s.append("password",n),fetch(`${i}/login`,{method:"POST",body:s}).then((t=>t.json())).then((t=>{t.token?(f.classList.remove("hidden"),setTimeout((function(){f.classList.add("hidden")}),3e3),setUser(t),localStorage.setItem("user",JSON.stringify(t)),setTimeout((()=>{u.classList.remove("hidden"),l.classList.add("hidden"),_(),N(),fetch(`${i}/emp-attendance/today`,{headers:{"x-access-token":k.token}}).then((t=>t.json())).then((t=>{if(t){const{work:e,idle:n,break:s}=t;T=e?F(e?.trim()):0,b=n?F(n?.trim()):0,w=s?F(s?.trim()):0,U(),A()}})),A(),H()}),1e3)):W()})).catch((t=>{console.error("Error:",t)}))}));const Z=document.getElementById("leaveModal"),z=document.getElementById("openModalBtn"),V=document.getElementsByClassName("close")[0],J=document.getElementById("leaveForm"),R=t().add(1,"day").format("YYYY-MM-DD"),q=t().add(2,"day").format("YYYY-MM-DD");function X(){Z.style.display="none"}y.setAttribute("min",R),M.setAttribute("min",q),y.addEventListener("input",(()=>{const e=t(y.value),n=t(M.value);n.isValid()&&e.isAfter(n)?M.setCustomValidity("From date should be before the to date."):M.setCustomValidity("")})),M.addEventListener("input",(()=>{const e=t(y.value),n=t(M.value);e.isAfter(n)?M.setCustomValidity("From date should be before the to date."):M.setCustomValidity("")})),J.addEventListener("submit",(function(t){t.preventDefault();const e=document.getElementById("leaveForm"),n=new FormData(e),s={};for(let[t,e]of n.entries())s[t]=e;const r=new FormData;r.append("from_date",s.from_date),r.append("to_date",s.to_date),r.append("reason",s.reason),r.append("leave_type",s.leave_type),r.append("paid",s.paid),fetch(`${i}/emp-attendance/leave`,{method:"POST",headers:{"x-access-token":k.token},body:r}).then((t=>t.json())).then((t=>{f.classList.remove("hidden"),f.innerText="Request Submitted!",setTimeout((()=>{f.classList.add("hidden"),f.innerText="Success!"}),3e3)})),X()})),z.addEventListener("click",(function(){Z.style.display="block"})),V.addEventListener("click",X),window.addEventListener("click",(t=>{t.target}));const Q=document.getElementById("notification"),G=document.getElementById("message"),K=document.getElementById("restart-button");ipcRenderer.on("update_available",(()=>{ipcRenderer.removeAllListeners("update_available"),G.innerText="A new update is available. Downloading now...",Q.classList.remove("hidden")})),ipcRenderer.on("update_downloaded",(()=>{ipcRenderer.removeAllListeners("update_downloaded"),G.innerText="Update Downloaded. It will be installed on restart. Restart now?",K.classList.remove("hidden"),Q.classList.remove("hidden")}))})()})();
//# sourceMappingURL=main.js.map